webpackJsonp([1],{"+m+Z":function(e,t){},"6E0m":function(e,t){},"6PyX":function(e,t){},"6n49":function(e,t){e.exports={name:{name:"Название",description:"Так будет называться задание в списках и меню"},component:{name:"компонент",description:"В приложении могут быть разные компоненты, предоставляющие доступ к разным типам заданий",options:["ReduceSimple"]},showRight:{name:"показывать правильные ответы",description:"Приложение может показывать правильные ответы, после того как пользователь ответит"},fraction:{name:"Параметры дроби",description:"Переменные, управляющие генерацией дробей. Дробь генерируется по формуле<br/>(num * c * x)/(denom * c * y)<br/> где num c x denom c y - случайные числа"},num:{name:"числитель",description:"num в формуле"},denom:{name:"знаменатель",description:"denom в формуле"},whole:{name:"целая часть",description:"целая часть"},coef:{name:"коэффициент умножения",description:"coef в формуле"},x:{name:"приращение числителя",description:"x в формуле"},y:{name:"приращение знаменателя",description:"y в формуле"},notZero:{name:"Не генерировать ноль в числителе",description:"Не генерировать дроби, в которых числитель равен нулю, например 0/4, или 1 0/2"},iterate:{name:"Количество умножений",description:"В формуле<br/> (num * (c * x))/(denom * (c * y)) можно задать количество умножений на (c * x),(c * y). При этом, каждые c, x, y будут новыми случайными числами в заданном диапазоне.<br/> Минимальное значение - 1"},onlyRight:{name:"Только правильные дроби",description:"Принудительно генерировать только правильные дроби"},onlyFrac:{name:"Не равные 1",description:"Не генерировать дроби вида 3/3 или 4 8/8"}}},"86dV":function(e,t){},Br3P:function(e,t){},Cvo8:function(e,t){},D5Q5:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r=n("Xxa5"),s=n.n(r),a=n("exGp"),o=n.n(a),c=n("NYxO"),u=n("mvHQ"),l=n.n(u),d=(n("mtWM"),n("Zrlr")),m=n.n(d),v=n("wxAW"),h=n.n(v),f={};function p(e,t){var n="";try{n=l()(e)}catch(e){return void alert("Невозможно преобразовать объект")}try{localStorage[t]=n}catch(e){return alert("Браузер не поддерживает localStorage сохранение невозможно"),e}return n}function _(e){try{var t=localStorage[e];return JSON.parse(t)}catch(e){return!1}}f.Element=function(){function e(t){m()(this,e),this.name=t}return h()(e,[{key:"set",value:function(e,t){var n=this.name+"_"+e;localStorage[n]=l()(t)}},{key:"get",value:function(e){var t=this.name+"_"+e,n=localStorage[t];return void 0===n?JSON.parse(n):void 0}},{key:"del",value:function(e){var t=this.name+"_"+e;delete localStorage[t]}},{key:"getAll",value:function(){var e={};for(var t in localStorage){var n=t.split("_");n[0]===this.name&&(e[n[1]]=JSON.parse(localStorage[t]))}return e}},{key:"delAll",value:function(){for(var e in localStorage){e.split("_")[0]===this.name&&delete localStorage[e]}}}]),e}(),f.collection=[],f.read=function(e){try{var t=0;for(var n in localStorage)if(localStorage.hasOwnProperty(n)){var i;1!==(i=n.split("_")).length&&i[0]===e&&(f.collection[t]=_(n),t++)}return f.collection}catch(e){return e}},f.write=function(e,t){if(f.read(e),void 0!==t)try{var n=f.collection.length;f.collection.push(t),p(t,e+"_"+n)}catch(e){return e}else!function(){try{for(var t=0;t<f.collection.length;t++)p(f.collection[t],e+"_"+t)}catch(e){return e}}()},f.update=function(e,t,n){n=l()(n),localStorage[e+"_"+t]=n},f.del=function(e,t){function n(){var t=0;for(var n in localStorage)if(localStorage.hasOwnProperty(n)){var i=n.split("_");1!==i.length&&i[0]===e&&(delete localStorage[e+"_"+t],t++)}}try{return"*"===t?(n(),!0):(f.collection.splice(t,1),n(),f.write(e),console.log(f.collection),!0)}catch(e){return e}};var g=f,x=void 0,w=[{_id:2424242,name:"Первый",component:"ReduceSimple",showRight:!0,fraction:{num:{min:1,max:9},denom:{min:1,max:2},whole:{min:-9,max:9},coef:{min:1,max:2},x:{min:0,max:5},y:{min:0,max:9}}},{_id:2424267,name:"Второй",component:"ReduceSimple",showRight:!0,fraction:{num:{min:1,max:9},denom:{min:1,max:2},whole:{min:-9,max:9},coef:{min:1,max:2},x:{min:0,max:5},y:{min:0,max:9}}}],y={loadExercises:function(e){var t=this;return o()(s.a.mark(function n(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.stub){t.next=4;break}return t.next=3,w;case 3:return t.abrupt("return",t.sent);case 4:if(!e.local){t.next=7;break}return x=new g.Element("fracMenu"),t.abrupt("return",x.getAll());case 7:case"end":return t.stop()}},n,t)}))()},saveExercise:function(e){var t=this;return o()(s.a.mark(function n(){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Date.now(),x.set(i,e),t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)}))()},updateExercises:function(e,t){var n=this;return o()(s.a.mark(function i(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return x.set(e,t),n.abrupt("return",!0);case 2:case"end":return n.stop()}},i,n)}))()},deleteExercises:function(e){var t=this;return o()(s.a.mark(function n(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x.del(e),t.abrupt("return",!0);case 2:case"end":return t.stop()}},n,t)}))()},deleteAllExercises:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.delAll(),e.abrupt("return",!0);case 2:case"end":return e.stop()}},t,e)}))()},loadStatistic:function(){var e=this;return o()(s.a.mark(function t(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=localStorage.stat)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.abrupt("return",JSON.parse(n));case 4:case"end":return e.stop()}},t,e)}))()},pushStatistic:function(e,t){var n=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.stat=l()(t);case 1:case"end":return e.stop()}},e,n)}))()},delStatistic:function(){delete localStorage.stat}},b=n("V31U"),k=n.n(b);i.a.use(c.a);var S=new c.a.Store({state:{test:!0,exercises:[],statistic:[],loaded:!1,loadedStat:!1,uid:0},mutations:{addExercise:function(e,t){e.exercises.push(t)},updateExercise:function(e,t){e.exercises[t.index]=t.settings},delExercise:function(e,t){e.exercises=e.exercises.filter(function(e){return e._id!==t})},delAllExercises:function(e){e.exercises=[]},pushStatistic:function(e,t){e.statistic.push(t)},delStatistic:function(e){e.statistic=[]},dataLoaded:function(e){e.loaded=!0},statLoaded:function(e){e.loadedStat=!0}},actions:{loadExercises:function(e,t){var n=this,i=e.commit,r=(e.dispatch,e.state);return o()(s.a.mark(function e(){var a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loaded){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,y.loadExercises(t);case 4:a=e.sent,console.log(a),e.t0=s.a.keys(a);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(o=e.t1.value,a.hasOwnProperty(o)){e.next=11;break}return e.abrupt("continue",7);case 11:i("addExercise",a[o]),e.next=7;break;case 14:return i("dataLoaded"),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,n)}))()},saveNewExercise:function(e,t){var n=this,i=e.commit;return o()(s.a.mark(function e(){var r,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a in r={},k.a[t])r[a]=k.a[t][a];return e.next=4,y.saveExercise(r);case 4:if(!(o=e.sent)&&0!==o){e.next=11;break}return r._id=o,i("addExercise",r),e.abrupt("return",o);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,n)}))()},updateExercise:function(e,t){for(var n=e.commit,i=e.state,r=0;r<i.exercises.length;r++)i.exercises[r]._id===t._id&&y.updateExercises(t._id,t)&&n("updateExercise",{settings:t,index:r})},deleteExercise:function(e,t){var n=this,i=e.commit,r=e.state;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.deleteExercises(t,r);case 2:if(!e.sent){e.next=8;break}return i("delExercise",t),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,n)}))()},delAllExercises:function(e){var t=this,n=e.commit;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.deleteAllExercises();case 2:if(!e.sent){e.next=8;break}return n("delAllExercises"),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,t)}))()},loadStatistic:function(e,t){var n=this,i=e.commit,r=e.state;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loadedStat){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,y.loadStatistic(t);case 4:e.sent.forEach(function(e){i("pushStatistic",e)}),i("statLoaded");case 7:case"end":return e.stop()}},e,n)}))()},pushStatistic:function(e,t){var n=e.commit,i=e.state;t.time=Date.now(),t.uid=i.uid,n("pushStatistic",t),y.pushStatistic(t,i.statistic)},delStatistic:function(e){var t=e.commit;y.delStatistic(),t("delStatistic")}}}),R={name:"App",created:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.dispatch("loadExercises",{local:!0});case 2:return e.sent,e.next=5,S.dispatch("loadStatistic",{local:!0});case 5:e.sent;case 6:case"end":return e.stop()}},t,e)}))()}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",[n("h1",[e._v("Сокращение дробей")]),e._v(" "),n("nav",[n("router-link",{attrs:{to:"/"}},[e._v("Главное меню")]),e._v(" "),n("router-link",{attrs:{to:"/statistic"}},[e._v("Статистика")])],1)]),e._v(" "),n("router-view"),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[this._v("\n    version 0.0.3"),t("br"),this._v("\n    © Michael Levitsky\n  ")])}]};var E=n("VU/8")(R,I,!1,function(e){n("Br3P")},null,null).exports;function $(e,t){return Math.floor(Math.random()*(t-e)+e)}function N(e){var t="";return e.sign&&(t="-"),void 0===e.whole||0===e.whole||isNaN(e.whole)?void 0!==e.num&&0!==e.num||(t+="0"):t+=e.whole,void 0!==e.num&&0!==e.num&&void 0!==e.denom&&0!==e.denom&&(t+="\\frac{"+e.num+"}{"+e.denom+"}"),t}var F=function(){function e(t,n,i,r){m()(this,e),void 0!==t&&(this.num=t),void 0!==n&&(this.denom=n),void 0!==i&&(this.whole=i),void 0!==r&&(this.sign=r),this.signify(!0)}return h()(e,[{key:"reduce",value:function(){for(var t=this.integrWhole(),n=t.num,i=t.denom,r=0,s=2;s<999;s++)n%s==0&&i%s==0&&(n/=s,i/=s,r++,s=1);if(0===r)return!1;var a=new e(n,i,0,this.sign);return a.sign=this.sign,a}},{key:"isolateWhole",value:function(){if(this.num<this.denom)return this;var t=Math.floor(this.num/this.denom)+this.whole;return new e(this.num%this.denom,this.denom,t,this.sign)}},{key:"integrWhole",value:function(){return new e(this.whole*this.denom+this.num,this.denom,0,this.sign)}},{key:"signify",value:function(t){var n=void 0,i=1;if(0!==this.num&&void 0!==this.num&&(i*=this.num),0!==this.denom&&void 0!==this.denom&&(i*=this.denom),this.whole<0&&void 0!==this.whole&&(i=-1),i>=0)return this;var r=this.num,s=this.denom,a=this.whole;return r<0&&(r*=-1),s<0&&(s*=-1),a<0&&(a*=-1),t?(this.num=r,this.denom=s,this.whole=a,this.sign=!0,this):((n=new e(r,s,a,!0)).sign=!0,n)}},{key:"equal",value:function(e){return this.num===e.num&&(this.denom===e.denom||0===this.denom&&void 0===e.denom||void 0===this.denom&&0===e.denom)&&(this.whole===e.whole||0===this.whole&&void 0===e.whole||void 0===this.whole&&0===e.whole)&&(this.sign===e.sign||!1===this.sign&&void 0===e.sign||void 0===this.sign&&!1===e.sign)||(0===this.num&&void 0===e.num||void 0===this.num&&0===e.num)&&(this.sign===e.sign||!1===this.sign&&void 0===e.sign||void 0===this.sign&&!1===e.sign)&&(this.whole===e.whole||0===this.whole&&void 0===e.whole||void 0===this.whole&&0===e.whole)||1===this.denom&&1===template.denom&&(this.sign===e.sign||!1===this.sign&&void 0===e.sign||void 0===this.sign&&!1===e.sign)&&(this.whole===e.whole||0===this.whole&&void 0===e.whole||void 0===this.whole&&0===e.whole)}}],[{key:"generate",value:function(t){var n=0,i=0,r=0,s=function(){var e=$(t.coef.min,t.coef.max),r=$(t.x.min,t.x.max),s=$(t.y.min,t.y.max);n*=e*r,i*=e*s},a=function(){n=$(t.num.min,t.num.max),i=$(t.denom.min,t.denom.max),r=$(t.whole.min,t.whole.max);var e=$(t.iterate.min,t.iterate.max);for(e<1&&(e=1);e;){if(t.onlyRight)do{s()}while(n>i);else s();e--}},o=0,c=0;if(t.onlyFrac){for(;n===i;){if(50===++o)return e.generate(t);if(t.notZero)for(;0===i||0===n;)1e3===++c&&alert("Big inner notZero"),a();else for(;0===i;)1e3===c&&alert("Big inner"),c++,a()}n===i&&alert(o)}else if(t.notZero)for(;0===i||0===n;)c++,a();else for(;0===i;)c++,a();return new e(n,i,r,!1)}}]),e}(),A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{attrs:{id:"root"}},[e.fraction.sign?n("span",{staticClass:"sign"},[e._v("-")]):e._e(),e._v(" "),e.fraction.whole?n("span",{staticClass:"whole"},[e._v(e._s(e.fraction.whole))]):e._e(),e._v(" "),n("span",{staticClass:"frac"},[n("span",{staticClass:"num"},[e._v(e._s(e.fraction.num))]),e._v(" "),n("span",{staticClass:"denom"},[e._v(e._s(e.fraction.denom))])])])},staticRenderFns:[]};var C=n("VU/8")({name:"FractionOutput",props:["fraction"],created:function(){}},A,!1,function(e){n("86dV")},"data-v-0427730e",null).exports,P={name:"FractionInput",props:["value"],computed:{whole:function(){var e=Number(this.value.whole);return isNaN(e)&&(e=""),(this.value.sign?"-":"")+e}},methods:{input:function(e,t){var n=Number(e.target.value);("whole"===t&&n<0||"-"===e.target.value)&&(this.value.sign=!0),("whole"===t&&n>=0||""===e.target.value)&&(this.value.sign=!1),this.value[t]=n,this.$emit("input",new F(this.value.num,this.value.denom,this.value.whole,this.value.sign))}},created:function(){}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{staticClass:"whole"},[n("input",{attrs:{type:"text",size:"1"},domProps:{value:e.whole},on:{change:function(t){e.input(t,"whole")}}})]),e._v(" "),n("span",{staticClass:"frac"},[n("span",{staticClass:"num"},[n("input",{attrs:{type:"text",size:"1"},domProps:{value:e.value.num},on:{input:function(t){e.input(t,"num")}}})]),e._v(" "),n("span",{staticClass:"denom"},[n("input",{attrs:{type:"text",size:"1"},domProps:{value:e.value.denom},on:{input:function(t){e.input(t,"denom")}}})])])])},staticRenderFns:[]};var L=n("VU/8")(P,T,!1,function(e){n("6E0m")},"data-v-f540563e",null).exports,V={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{attrs:{id:"root"}},[this._t("default")],2)},staticRenderFns:[]};var D=n("VU/8")({name:"FractionSign"},V,!1,function(e){n("+m+Z")},"data-v-63ad2209",null).exports,z=n("/ocq"),U={num:{min:1,max:9},denom:{min:-9,max:9},whole:{min:0,max:1},coef:{min:1,max:9},x:{min:0,max:5},y:{min:0,max:9}},q={name:"HelloWorld",created:function(){for(var e=0;e<10;e++)this.fr[e]=F.generate(U)},data:function(){return{msg:"Welcome to Your Vue.js App",fr:[],binded:new F(1,5,-3)}}},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),e._l(e.fr,function(e,t){return n("FractionOutput",{key:t,attrs:{fraction:e}})}),e._v(" "),n("div",[n("FractionInput",{model:{value:e.binded,callback:function(t){e.binded=t},expression:"binded"}}),e._v(" "),n("FractionSign",[e._v("=")]),e._v(" "),n("FractionOutput",{attrs:{fraction:e.binded}})],1)],2)},staticRenderFns:[]};n("VU/8")(q,O,!1,function(e){n("su5W")},"data-v-65f5e796",null).exports;var M={name:"ReduceSimple",props:["params"],data:function(){var e=new F;return e.sign=!1,{question:new F(1,5,0,!1),answer:e,right:new F(0,0,0,!1)}},created:function(){setTimeout(this.generate,200)},methods:{reset:function(){var e=new F;e.sign=!1,this.answer=e},submit:function(){var e=N(this.question)+"="+N(this.answer),t=N(this.question)+"="+N(this.right);return{isRight:this.answer.equal(this.right),answer:e,right:t,eid:this.params._id}},generate:function(){this.question=F.generate(this.params.fraction);var e=this.question.reduce();e?this.right=e.isolateWhole():this.generate()}}},W={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("FractionOutput",{attrs:{fraction:e.question}}),e._v(" "),n("FractionSign",[e._v("=")]),e._v(" "),n("FractionInput",{model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1)},staticRenderFns:[]};var H=n("VU/8")(M,W,!1,function(e){n("Cvo8")},null,null).exports,B={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("Подождите, идет загрузка")])},staticRenderFns:[]};var Z=n("VU/8")({name:"Stub"},B,!1,function(e){n("YrTH")},"data-v-5d2ae428",null).exports,Y={name:"Test",data:function(){return{id:this.$route.params.id,result:!1,resultBody:{},exercComponent:Z}},created:function(){var e=this;setTimeout(function(){e.exercComponent=e.params.component},1e3)},computed:{params:function(){var e=this;return S.state.exercises.find(function(t){return t._id==e.id})}},methods:{submit:function(){var e=this;return o()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$refs.exercise.submit(),e.resultBody=n,e.showResult(n),t.next=5,S.dispatch("pushStatistic",e.resultBody);case 5:t.sent;case 7:case"end":return t.stop()}},t,e)}))()},reset:function(){this.$refs.exercise.reset()},showResult:function(e){this.result=!0;var t=this.$refs.answer,n=this.$refs.right;katex.render(e.answer,t,{displayMode:!0}),this.params.showRight&&katex.render(e.right,n,{displayMode:!0})},renew:function(){this.result=!1,this.$refs.exercise.reset()},nextExerc:function(){this.result=!1,this.$refs.exercise.reset(),this.$refs.exercise.generate()}},components:{ReduceSimple:H}},J={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"exercise"}},[n("transition",{attrs:{name:"exercise",mode:"out-in"}},[n(e.exercComponent,{ref:"exercise",tag:"component",attrs:{params:e.params}})],1),e._v(" "),n("div",{attrs:{id:"btns"}},[n("button",{on:{click:e.reset}},[e._v("Сброс")]),e._v(" "),n("button",{on:{click:e.submit}},[e._v("Готово")])]),e._v(" "),n("transition",{attrs:{name:"result"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.result,expression:"result"}],class:{right:e.resultBody.isRight},attrs:{id:"resulr-alert"}},[n("div",{ref:"answer",staticStyle:{"font-size":"1.5em"}}),e._v(" "),n("div",{ref:"right",staticStyle:{"font-size":"1.5em"}}),e._v(" "),n("button",{on:{click:function(t){e.renew()}}},[e._v("Попробовать снова")]),e._v(" "),n("button",{on:{click:function(t){e.nextExerc()}}},[e._v("Далее")])])])],1)},staticRenderFns:[]};var X=n("VU/8")(Y,J,!1,function(e){n("thqs")},null,null).exports,j=n("pFYg"),G=n.n(j),Q=n("6n49"),K=n.n(Q),ee={name:"descriptViewer",data:function(){return{isShow:!1}},methods:{show:function(){var e=this;this.isShow=!0,setTimeout(function(){e.isShow=!1},5e3)}}},te={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"root"}},[n("button",{on:{click:function(t){e.show()}}},[e._v("?")]),e._v(" "),e.isShow?n("span",{attrs:{id:"win"}},[e._t("default")],2):e._e()])},staticRenderFns:[]};var ne={name:"SettingsItem",props:["name","value"],data:function(){return{localeName:"",description:"",options:[]}},created:function(){"_id"!==this.name&&(this.localeName=K.a[this.name].name,this.description=K.a[this.name].description,void 0!==K.a[this.name].options&&(this.options=K.a[this.name].options))},computed:{iterable:function(){return"object"===G()(this.value)&&void 0===this.value.min&&void 0===this.value.max},helpable:function(){return!this.iterable&&"_id"!==this.name},textType:function(){return"string"==typeof this.value&&0===this.options.length},selectType:function(){return"string"==typeof this.value&&this.options.length>0},checkboxType:function(){return"boolean"==typeof this.value},twonumsType:function(){return"number"==typeof this.value.min&&"number"==typeof this.value.max}},components:{DescriptViewer:n("VU/8")(ee,te,!1,function(e){n("6PyX")},"data-v-79480532",null).exports}},ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e.iterable?n("div",[e._v("\n    "+e._s(e.localeName)+"\n    "),e.iterable?n("DescriptViewer",[n("span",{domProps:{innerHTML:e._s(e.description)}})]):e._e(),e._v(" "),n("ul",e._l(e.value,function(e,t,i){return n("SettingsItem",{key:i,ref:"settingsItems",refInFor:!0,attrs:{value:e,name:t}})}))],1):e.textType?n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.value,expression:"value",modifiers:{lazy:!0}}],attrs:{type:"text",id:e.name,title:"",size:"40"},domProps:{value:e.value},on:{change:function(t){e.value=t.target.value}}}):e.checkboxType?n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.value,expression:"value",modifiers:{lazy:!0}}],attrs:{type:"checkbox",id:e.name},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var n=e.value,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.value=n.concat([null])):s>-1&&(e.value=n.slice(0,s).concat(n.slice(s+1)))}else e.value=r}}}):e.selectType?n("select",{directives:[{name:"model",rawName:"v-model.lazy",value:e.value,expression:"value",modifiers:{lazy:!0}}],attrs:{id:e.name},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.value=t.target.multiple?n:n[0]}}},e._l(e.options,function(t){return n("option",[e._v(e._s(t))])})):e.twonumsType?n("span",[n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.value.min,expression:"value.min",modifiers:{number:!0,lazy:!0}}],attrs:{type:"number",size:"1",id:e.name+"min"},domProps:{value:e.value.min},on:{change:function(t){e.$set(e.value,"min",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("label",{attrs:{for:e.name+"min"}},[e._v("минимум")]),e._v("\n            \n        "),n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.value.max,expression:"value.max",modifiers:{number:!0,lazy:!0}}],attrs:{type:"number",size:"1",id:e.name+"max"},domProps:{value:e.value.max},on:{change:function(t){e.$set(e.value,"max",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("label",{attrs:{for:e.name+"max"}},[e._v("максимум")])]):e._e(),e._v(" "),e.iterable?e._e():n("label",{staticClass:"prnm",attrs:{for:e.name}},[e._v(e._s(e.localeName))]),e._v(" "),e.helpable?n("DescriptViewer",[n("span",{domProps:{innerHTML:e._s(e.description)}})]):e._e()],1)},staticRenderFns:[]};var re={name:"Settings",data:function(){return{params:{}}},created:function(){this.load()},methods:{load:function(){var e=this.$route.params.id;this.params=S.state.exercises.find(function(t){return t._id==e})},save:function(){for(var e={},t=0;t<this.$refs.settingsItems.length;t++)if("boolean"==typeof this.$refs.settingsItems[t].value||"string"==typeof this.$refs.settingsItems[t].value||"number"==typeof this.$refs.settingsItems[t].value)e[this.$refs.settingsItems[t].name]=this.$refs.settingsItems[t].value;else if("object"===G()(this.$refs.settingsItems[t].value)&&!this.$refs.settingsItems[t].value.hasOwnProperty("min")&&!this.$refs.settingsItems[t].value.hasOwnProperty("max")){e[this.$refs.settingsItems[t].name]={};for(var n=0;n<this.$refs.settingsItems[t].$refs.settingsItems.length;n++)e[this.$refs.settingsItems[t].name][this.$refs.settingsItems[t].$refs.settingsItems[n].name]=this.$refs.settingsItems[t].$refs.settingsItems[n].value}console.log(l()(e,2)),S.dispatch("updateExercise",e),this.$router.push("/exercList")}},components:{SettingsItem:n("VU/8")(ne,ie,!1,function(e){n("D5Q5")},"data-v-79cee67c",null).exports}},se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"settings"}},[n("ul",e._l(e.params,function(e,t,i){return n("SettingsItem",{key:i,ref:"settingsItems",refInFor:!0,attrs:{value:e,name:t}})})),e._v(" "),n("button",{on:{click:function(t){e.save()}}},[e._v("сохранить")])])},staticRenderFns:[]};var ae=n("VU/8")(re,se,!1,function(e){n("TsFG")},"data-v-d6898332",null).exports,oe={name:"ExercList",data:function(){return{showSelectTemplates:!1,templates:k.a}},computed:{exercises:function(){return S.state.exercises}},methods:{del:function(e){var t=this;return o()(s.a.mark(function n(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.dispatch("deleteExercise",e);case 2:t.sent;case 3:case"end":return t.stop()}},n,t)}))()},addNew:function(e){var t=this;return o()(s.a.mark(function n(){var i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=5;break}return t.showSelectTemplates=!0,n.abrupt("return",!1);case 5:return t.showSelectTemplates=!1,n.next=8,S.dispatch("saveNewExercise",e);case 8:return((i=n.sent)||0===i)&&t.$router.push("settings/"+i),n.abrupt("return",!0);case 11:case"end":return n.stop()}},n,t)}))()},delAll:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.dispatch("delAllExercises");case 2:e.sent;case 3:case"end":return e.stop()}},t,e)}))()},delStatistic:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.dispatch("delStatistic");case 2:e.sent;case 3:case"end":return e.stop()}},t,e)}))()}}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list"}},[e.showSelectTemplates?n("div",{attrs:{id:"fone"}},[n("div",{attrs:{id:"dialog"}},[n("p",[e._v("Выберите шаблон задания "),n("button",{on:{click:function(t){e.showSelectTemplates=!1}}},[e._v("[X]")])]),e._v(" "),e._l(e.templates,function(t,i,r){return n("a",{key:r,attrs:{href:"#"},on:{click:function(t){e.addNew(i)}}},[e._v("\n        "+e._s(i)+"\n      ")])})],2)]):e._e(),e._v(" "),n("ul",e._l(e.exercises,function(t,i){return n("li",{key:i},[n("router-link",{attrs:{to:/test/+t._id}},[e._v(e._s(t.name))]),e._v(" "),n("router-link",{attrs:{to:/settings/+t._id}},[e._v("Редактировать")]),e._v(" "),n("button",{on:{click:function(n){e.del(t._id)}}},[e._v("[X]")])],1)})),e._v(" "),n("hr"),e._v(" "),n("button",{staticClass:"add",on:{click:function(t){e.addNew()}}},[e._v("Новое задание")]),e._v(" "),n("button",{staticClass:"add",on:{click:e.delAll}},[e._v("Удалить все задания")]),e._v(" "),n("button",{staticClass:"add",on:{click:e.delStatistic}},[e._v("Удалить статистику")])])},staticRenderFns:[]};var ue=n("VU/8")(oe,ce,!1,function(e){n("UpwK")},"data-v-69086720",null).exports,le={name:"Statistic",props:{monthInt:{default:-1},dateInt:{default:-1},hourInt:{default:-1},eid:{default:-1},uid:{default:0},isRight:{default:0},showLinks:{default:!1},showUserSelect:{default:!1},showRights:{default:!0}},created:function(){},computed:{statistic:function(){return S.state.statistic},displayed:function(){var e=this,t=void 0,n=this.statistic;return-1!==this.eid&&(n=n.filter(function(t){return t.eid===e.eid})),t=-1!==this.hourInt?this.hours[this.hourInt].interval:-1!==this.dateInt?this.days[this.dateInt].interval:-1!==this.monthInt?this.months[this.monthInt].interval:[0,n.length],n=n.filter(function(e,n){return n>=t[0]&&n<=t[1]}),0!==this.isRight&&(n=n.filter(function(t){return 1===e.isRight?t.isRight:!t.isRight})),n=n.sort(function(e,t){return e.time<t.time?1:e.time>t.time?-1:void 0})},months:function(){var e=this.statistic,t=[];if(void 0===e[0])return[];for(var n=new Date(e[0].time).toLocaleDateString().substr(-7),i=0,r=0,s=0;s<e.length+1;s++){var a=void 0;n!==(a=void 0!==e[s]?new Date(e[s].time).toLocaleDateString().substr(-7):"end")&&(t.push({time:n,interval:[i]}),t[r].interval.push(s-1),r++,n=a,i=s)}return t},days:function(){var e=this.statistic,t=[];if(void 0===e[0])return[];var n=void 0;n="-1"==this.monthInt?[0,e.length]:this.months[this.monthInt].interval;for(var i=new Date(e[0].time).toLocaleDateString(),r=0,s=0,a=n[0];a<=n[1]+1;a++){var o=void 0;(o=void 0!==e[a]?new Date(e[a].time).toLocaleDateString():"end")!==i&&(t.push({time:i,interval:[r]}),t[s].interval.push(a-1),s++,i=o,r=a)}return 0!==n[0]&&t.splice(0,1),t},hours:function(){if("-1"==this.dateInt)return[];var e=this.days[this.dateInt].interval,t=this.statistic,n=[];if(void 0===t[0])return[];for(var i=new Date(t[e[0]].time).getHours(),r=e[0],s=0,a=e[0];a<=e[1]+1;a++){var o=void 0;i!==(o=void 0!==t[a]?new Date(t[a].time).getHours():"end")&&(n.push({time:i+":00",interval:[r]}),n[s].interval.push(a-1),s++,i=o,r=a)}return n},exercises:function(){var e=[];return S.state.exercises.forEach(function(t){e.push({name:t.name,_id:t._id})}),e},rightFullStatistic:function(){if(void 0!==this.statistic)return this.statistic.reduce(function(e,t){return t.isRight?e+1:e},0)},rightDisplayedStatistic:function(){if(void 0!==this.statistic)return this.displayed.reduce(function(e,t){return t.isRight?e+1:e},0)}},methods:{timeFMT:function(e){return new Date(e).toLocaleString()},getExerciseName:function(e){for(var t=0;t<this.exercises.length;t++)if(this.exercises[t]._id===e)return this.exercises[t].name},al:function(){alert(S.state.statistic[0].time),console.log(S.state.statistic),console.log(this.displayed)},setTest:function(){var e=[],t=new Date;t=t.setFullYear(2014,5,16);for(var n=0;n<200;n++){t+=$(0,864e5);var i={answer:"-4\frac{16}{2}=0",eid:0,right:"-4\frac{16}{2}=-12",uid:0},r=1===$(0,2);i.time=t,i.isRight=r,e.push(i)}return e}},watch:{monthInt:function(){this.dateInt=-1},dateInt:function(){this.hourInt=-1}},directives:{katex:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){katex.render(t.value,e,{displayMode:!0})})}},de={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"statistic"}},[n("fieldset",{attrs:{id:"filters"}},[n("legend",[e._v("Фильтрация")]),e._v(" "),n("fieldset",[n("legend",[e._v("Фильтрация по времени")]),e._v(" "),n("span",{staticClass:"sel-wraper"},[n("label",{attrs:{for:"month"}},[e._v("Месяц")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.monthInt,expression:"monthInt",modifiers:{number:!0}}],attrs:{id:"month"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var n="_value"in t?t._value:t.value;return e._n(n)});e.monthInt=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"-1"}},[e._v("все")]),e._v(" "),e._l(e.months,function(t,i){return n("option",{key:i,domProps:{value:i}},[e._v("\n            "+e._s(t.time)+"\n          ")])})],2)]),e._v(" "),n("span",{staticClass:"sel-wraper"},[n("label",{attrs:{for:"day"}},[e._v("День")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.dateInt,expression:"dateInt",modifiers:{number:!0}}],attrs:{id:"day"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var n="_value"in t?t._value:t.value;return e._n(n)});e.dateInt=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"-1"}},[e._v("все")]),e._v(" "),e._l(e.days,function(t,i){return n("option",{key:i,domProps:{value:i}},[e._v("\n            "+e._s(t.time)+"\n          ")])})],2)]),e._v(" "),n("span",{staticClass:"sel-wraper"},[n("label",{attrs:{for:"hour"}},[e._v("Час")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.hourInt,expression:"hourInt",modifiers:{number:!0}}],attrs:{id:"hour"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var n="_value"in t?t._value:t.value;return e._n(n)});e.hourInt=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"-1"}},[e._v("все")]),e._v(" "),e._l(e.hours,function(t,i){return n("option",{key:i,domProps:{value:i}},[e._v("\n            "+e._s(t.time)+"\n          ")])})],2)])]),e._v(" "),n("span",{staticClass:"sel-wraper"},[n("label",{attrs:{for:"exerc"}},[e._v("упражнение")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.eid,expression:"eid",modifiers:{number:!0}}],attrs:{id:"exerc"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var n="_value"in t?t._value:t.value;return e._n(n)});e.eid=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"-1"}},[e._v("все")]),e._v(" "),e._l(e.exercises,function(t,i){return n("option",{key:i,domProps:{value:t._id}},[e._v("\n          "+e._s(t.name)+"\n        ")])})],2)]),e._v(" "),n("div",{staticClass:"sel-wraper"},[n("h4",[e._v("Категория правильности:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.isRight,expression:"isRight",modifiers:{number:!0}}],attrs:{type:"radio",id:"all",name:"is-right",value:"0"},domProps:{checked:e._q(e.isRight,e._n("0"))},on:{change:function(t){e.isRight=e._n("0")}}}),e._v(" "),n("label",{attrs:{for:"all"}},[e._v("все")]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.isRight,expression:"isRight",modifiers:{number:!0}}],attrs:{type:"radio",id:"right",name:"is-right",value:"1"},domProps:{checked:e._q(e.isRight,e._n("1"))},on:{change:function(t){e.isRight=e._n("1")}}}),e._v(" "),n("label",{attrs:{for:"right"}},[e._v("правильные")]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.isRight,expression:"isRight",modifiers:{number:!0}}],attrs:{type:"radio",id:"wrong",name:"is-right",value:"2"},domProps:{checked:e._q(e.isRight,e._n("2"))},on:{change:function(t){e.isRight=e._n("2")}}}),e._v(" "),n("label",{attrs:{for:"wrong"}},[e._v("неверные")]),n("br")]),e._v(" "),n("div",{staticClass:"sel-wraper"},[n("p",[e._v("Всего: "+e._s(e.statistic.length))]),e._v(" "),n("p",[e._v(" в том числе верно: "+e._s(e.rightFullStatistic))]),e._v(" "),n("p",[e._v("показано: "+e._s(e.displayed.length))]),e._v(" "),n("p",[e._v(" в том числе верно: "+e._s(e.rightDisplayedStatistic))])]),e._v(" "),n("div",{staticClass:"sel-wraper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showLinks,expression:"showLinks"}],attrs:{type:"checkbox",id:"links"},domProps:{checked:Array.isArray(e.showLinks)?e._i(e.showLinks,null)>-1:e.showLinks},on:{change:function(t){var n=e.showLinks,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.showLinks=n.concat([null])):s>-1&&(e.showLinks=n.slice(0,s).concat(n.slice(s+1)))}else e.showLinks=r}}}),n("label",{attrs:{for:"links"}},[e._v("показывать ссылки на задания")])]),e._v(" "),n("div",{staticClass:"sel-wraper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showRights,expression:"showRights"}],attrs:{type:"checkbox",id:"rights"},domProps:{checked:Array.isArray(e.showRights)?e._i(e.showRights,null)>-1:e.showRights},on:{change:function(t){var n=e.showRights,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.showRights=n.concat([null])):s>-1&&(e.showRights=n.slice(0,s).concat(n.slice(s+1)))}else e.showRights=r}}}),n("label",{attrs:{for:"rights"}},[e._v("показывать правильные ответы")])])]),e._v(" "),n("div",{attrs:{id:"statistic-box"}},[e._l(e.displayed,function(t,i){return n("div",{staticClass:"statItem",class:{right:t.isRight}},[n("h3",[e._v(e._s(e.timeFMT(t.time)))]),e._v(" "),n("span",{directives:[{name:"katex",rawName:"v-katex",value:t.answer,expression:"el.answer"}],staticClass:"katex"}),e._v(" "),e.showRights?n("span",{directives:[{name:"katex",rawName:"v-katex",value:t.right,expression:"el.right"}],staticClass:"katex"}):e._e(),e._v(" "),e.showLinks?n("router-link",{attrs:{to:/test/+t.eid}},[e._v(e._s(e.getExerciseName(t.eid)))]):e._e()],1)}),e._v(" "),0===e.displayed.length&&0===e.statistic.length?n("div",{staticClass:"statItem"},[n("h3",[e._v("Статистика отсутствует")]),e._v(" "),n("span",{staticClass:"info"},[e._v("Решите какое ни будь задание, чтобы появилась статистика ")])]):0===e.displayed.length?n("div",{staticClass:"statItem info"},[n("h3",[e._v("В этой категории статистика отсутствует")]),e._v(" "),n("span",{staticClass:"info"},[e._v("Выберите другую категорию")])]):e._e()],2)])},staticRenderFns:[]};var me=n("VU/8")(le,de,!1,function(e){n("fqzV")},"data-v-2c6967df",null).exports;i.a.use(z.a);var ve=new z.a({routes:[{path:"/",name:"Упражнения",component:ue},{path:"/test/:id",name:"Test",component:X},{path:"/settings/:id",name:"Settings",component:ae},{path:"/exerclist",name:"ExercList",component:ue},{path:"/statistic",name:"Статистика",component:me}]});i.a.config.productionTip=!1,i.a.component("FractionOutput",C),i.a.component("FractionInput",L),i.a.component("FractionSign",D),new i.a({el:"#app",router:ve,components:{App:E},template:"<App/>"})},TsFG:function(e,t){},UpwK:function(e,t){},V31U:function(e,t){e.exports={ReduceSimple:{name:"",component:"ReduceSimple",showRight:!0,fraction:{num:{min:1,max:9},denom:{min:1,max:2},whole:{min:-9,max:9},coef:{min:1,max:2},x:{min:0,max:5},y:{min:0,max:9},iterate:{min:1,max:1},notZero:!0,onlyRight:!1,onlyFrac:!1}}}},YrTH:function(e,t){},fqzV:function(e,t){},su5W:function(e,t){},thqs:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ce9c1903e48796bc3bfe.js.map